{
    "collab_server" : "",
    "contents" : "#!/usr/bin/env Rscript \n\n# Plot the distribution of read counts and feature counts, side by side, then a scatter plot of read counts vs feature counts below\n# See\n# https://www.rdocumentation.org/packages/scater/versions/1.0.4/topics/calculateQCMetrics\n# for available metrics.\n\n# Load optparse we need to check inputs\n\nsuppressPackageStartupMessages(require(optparse))\n\n# Load common functions\n\nsuppressPackageStartupMessages(require(workflowscriptscommon))\n\n# parse options\n\noption_list = list(\n  make_option(\n    c(\"-i\", \"--input-object-file\"),\n    action = \"store\",\n    default = NA,\n    type = 'character',\n    help = \"A serialized SingleCellExperiment object file in RDS format.\"\n  ),\n  make_option(\n    c(\"-o\", \"--output-plot-file\"),\n    action = \"store\",\n    default = NA,\n    type = 'character',\n    help = \"A jpg file to save plot to, e.g Reads.plot.\"\n  )\n)\n\nopt <- wsc_parse_args(option_list, mandatory = c('input_object_file', 'output_plot_file'))\n\n# Check parameter values\n\nif ( ! file.exists(opt$input_object_file)){\n  stop((paste('File', opt$input_object_file, 'does not exist')))\n}\n\n# Now we're hapy with the arguments, load Scater and do the work\n\nsuppressPackageStartupMessages(require(scater))\n\n# Input from serialized R object\n\nsce <- readRDS(opt$input_object_file)\nprint(paste(\"Starting with\", ncol(sce), \"cells and\", nrow(sce), \"features.\"))\n\n\n#do the scatter plot of reads vs genes\npdf(opt$output_plot_file)\nplotExprsFreqVsMean(sce)\ndev.off()\n",
    "created" : 1539183038218.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "60354557",
    "id" : "CA0D1590",
    "lastKnownWriteTime" : 1539183864,
    "last_content_update" : 1539183864310,
    "path" : "~/projects/single_cell/Galaxy/galaxy_tools/RCode/test_scater/scater_modules_1.8.4/scater-plot-exprs-freq.R",
    "project_path" : "scater-plot-exprs-freq.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 9,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}